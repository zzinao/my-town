{"ast":null,"code":"import _objectSpread from\"/Users/jina/Desktop/\\u1112\\u1161\\u11BC\\u1112\\u116299/sparta-react02/community/my_town-/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{Grid,Image,Text}from'../elements';import{useDispatch,useSelector}from'react-redux';import{actionCreators as commentActions}from'../redux/modules/comments';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentList=function CommentList(props){var dispatch=useDispatch();var comment_list=useSelector(function(state){return state.comment.list;});console.log(comment_list);var post_id=props.post_id;React.useEffect(function(){if(!comment_list[post_id]){// 코멘트 정보가 없으면 불러오기\ndispatch(commentActions.getCommentFB(post_id));}},[]);//post_id를 props로 받아오고 그 post_id도 database에서 가져오므로\n//post_id가 없는 순간이 생기면서 comment_list[post_id]에 아무 것도 없게 된다\n//또는 달린 댓글이 없을때도 map함수를 돌리면 오류가 나므로 이 조건 추가해야함!\n// comment가 없거나, post_id가 없으면 아무것도 안넘겨준다!\nif(!comment_list[post_id]||!post_id){return null;}console.log(comment_list);return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Grid,{padding:\"16px\",children:comment_list[post_id].map(function(comment){return/*#__PURE__*/_jsx(CommentItem,_objectSpread({},comment),comment.id);})})});};var CommentItem=function CommentItem(props){var user_profile=props.user_profile,user_name=props.user_name,contents=props.contents,insert_dt=props.insert_dt;return/*#__PURE__*/_jsxs(Grid,{is_flex:true,children:[/*#__PURE__*/_jsxs(Grid,{is_flex:true,width:\"auto\",children:[/*#__PURE__*/_jsx(Image,{shape:\"circle\",src:user_profile}),/*#__PURE__*/_jsx(Text,{bold:true,children:user_name})]}),/*#__PURE__*/_jsxs(Grid,{is_flex:true,margin:\"0px 4px\",children:[/*#__PURE__*/_jsx(Text,{margin:\"0px\",children:contents}),/*#__PURE__*/_jsx(Text,{margin:\"0px\",children:insert_dt})]})]});};CommentList.defaultProps={post_id:null};CommentItem.defaultProps={user_profile:'http://mstatic2.e-himart.co.kr/contents/goods/00/13/15/42/17/0013154217__MW58869_1597932__2_640_640.jpg',user_name:'mean0',user_id:'',post_id:1,contents:'귀여운 고양이네요!',insert_dt:'2021-01-01 19:00:00'};export default CommentList;","map":{"version":3,"sources":["/Users/jina/Desktop/항해99/sparta-react02/community/my_town-/src/components/CommentList.js"],"names":["React","Grid","Image","Text","useDispatch","useSelector","actionCreators","commentActions","CommentList","props","dispatch","comment_list","state","comment","list","console","log","post_id","useEffect","getCommentFB","map","id","CommentItem","user_profile","user_name","contents","insert_dt","defaultProps","user_id"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,IAAtB,KAAkC,aAAlC,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAc,GAAIC,CAAAA,cAA3B,KAAiD,2BAAjD,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC7B,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,CAAAA,YAAY,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,OAAN,CAAcC,IAAzB,EAAD,CAAhC,CACAC,OAAO,CAACC,GAAR,CAAYL,YAAZ,EAEA,GAAQM,CAAAA,OAAR,CAAoBR,KAApB,CAAQQ,OAAR,CAEAjB,KAAK,CAACkB,SAAN,CAAgB,UAAM,CACpB,GAAI,CAACP,YAAY,CAACM,OAAD,CAAjB,CAA4B,CAC1B;AACAP,QAAQ,CAACH,cAAc,CAACY,YAAf,CAA4BF,OAA5B,CAAD,CAAR,CACD,CACF,CALD,CAKG,EALH,EAOA;AACA;AACA;AACA;AACA,GAAI,CAACN,YAAY,CAACM,OAAD,CAAb,EAA0B,CAACA,OAA/B,CAAwC,CACtC,MAAO,KAAP,CACD,CACDF,OAAO,CAACC,GAAR,CAAYL,YAAZ,EAEA,mBACE,KAAC,KAAD,CAAO,QAAP,wBACE,KAAC,IAAD,EAAM,OAAO,CAAC,MAAd,UACGA,YAAY,CAACM,OAAD,CAAZ,CAAsBG,GAAtB,CAA0B,SAACP,OAAD,CAAa,CACtC,mBAAO,KAAC,WAAD,kBAAkCA,OAAlC,EAAkBA,OAAO,CAACQ,EAA1B,CAAP,CACD,CAFA,CADH,EADF,EADF,CASD,CAhCD,CAkCA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACb,KAAD,CAAW,CAC7B,GAAQc,CAAAA,YAAR,CAAyDd,KAAzD,CAAQc,YAAR,CAAsBC,SAAtB,CAAyDf,KAAzD,CAAsBe,SAAtB,CAAiCC,QAAjC,CAAyDhB,KAAzD,CAAiCgB,QAAjC,CAA2CC,SAA3C,CAAyDjB,KAAzD,CAA2CiB,SAA3C,CACA,mBACE,MAAC,IAAD,EAAM,OAAO,KAAb,wBACE,MAAC,IAAD,EAAM,OAAO,KAAb,CAAc,KAAK,CAAC,MAApB,wBACE,KAAC,KAAD,EAAO,KAAK,CAAC,QAAb,CAAsB,GAAG,CAAEH,YAA3B,EADF,cAEE,KAAC,IAAD,EAAM,IAAI,KAAV,UAAYC,SAAZ,EAFF,GADF,cAKE,MAAC,IAAD,EAAM,OAAO,KAAb,CAAc,MAAM,CAAC,SAArB,wBACE,KAAC,IAAD,EAAM,MAAM,CAAC,KAAb,UAAoBC,QAApB,EADF,cAEE,KAAC,IAAD,EAAM,MAAM,CAAC,KAAb,UAAoBC,SAApB,EAFF,GALF,GADF,CAYD,CAdD,CAgBAlB,WAAW,CAACmB,YAAZ,CAA2B,CACzBV,OAAO,CAAE,IADgB,CAA3B,CAIAK,WAAW,CAACK,YAAZ,CAA2B,CACzBJ,YAAY,CACV,yGAFuB,CAGzBC,SAAS,CAAE,OAHc,CAIzBI,OAAO,CAAE,EAJgB,CAKzBX,OAAO,CAAE,CALgB,CAMzBQ,QAAQ,CAAE,YANe,CAOzBC,SAAS,CAAE,qBAPc,CAA3B,CAUA,cAAelB,CAAAA,WAAf","sourcesContent":["import React from 'react'\nimport { Grid, Image, Text } from '../elements'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { actionCreators as commentActions } from '../redux/modules/comments'\n\nconst CommentList = (props) => {\n  const dispatch = useDispatch()\n  const comment_list = useSelector((state) => state.comment.list)\n  console.log(comment_list)\n\n  const { post_id } = props\n\n  React.useEffect(() => {\n    if (!comment_list[post_id]) {\n      // 코멘트 정보가 없으면 불러오기\n      dispatch(commentActions.getCommentFB(post_id))\n    }\n  }, [])\n\n  //post_id를 props로 받아오고 그 post_id도 database에서 가져오므로\n  //post_id가 없는 순간이 생기면서 comment_list[post_id]에 아무 것도 없게 된다\n  //또는 달린 댓글이 없을때도 map함수를 돌리면 오류가 나므로 이 조건 추가해야함!\n  // comment가 없거나, post_id가 없으면 아무것도 안넘겨준다!\n  if (!comment_list[post_id] || !post_id) {\n    return null\n  }\n  console.log(comment_list)\n\n  return (\n    <React.Fragment>\n      <Grid padding=\"16px\">\n        {comment_list[post_id].map((comment) => {\n          return <CommentItem key={comment.id} {...comment} />\n        })}\n      </Grid>\n    </React.Fragment>\n  )\n}\n\nconst CommentItem = (props) => {\n  const { user_profile, user_name, contents, insert_dt } = props\n  return (\n    <Grid is_flex>\n      <Grid is_flex width=\"auto\">\n        <Image shape=\"circle\" src={user_profile} />\n        <Text bold>{user_name}</Text>\n      </Grid>\n      <Grid is_flex margin=\"0px 4px\">\n        <Text margin=\"0px\">{contents}</Text>\n        <Text margin=\"0px\">{insert_dt}</Text>\n      </Grid>\n    </Grid>\n  )\n}\n\nCommentList.defaultProps = {\n  post_id: null,\n}\n\nCommentItem.defaultProps = {\n  user_profile:\n    'http://mstatic2.e-himart.co.kr/contents/goods/00/13/15/42/17/0013154217__MW58869_1597932__2_640_640.jpg',\n  user_name: 'mean0',\n  user_id: '',\n  post_id: 1,\n  contents: '귀여운 고양이네요!',\n  insert_dt: '2021-01-01 19:00:00',\n}\n\nexport default CommentList\n"]},"metadata":{},"sourceType":"module"}